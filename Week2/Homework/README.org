Homework at
https://github.com/DataTalksClub/data-engineering-zoomcamp/blob/main/cohorts/2023/week_2_workflow_orchestration/homework.md

+ Question 1

  python etl_web_to_gcs.py

  [...]
  01:07:54.432 | INFO    | Task run 'clean-b9fd7e03-0' - rows: 447770
  [...]

  -> 447770

+ Question 2

  the arguments for a cron job are: Min Hour Mday Month Wday Command
  so the first day of every mont at 5AM is:
  
  -> 0 5 1 * *

+ Question 3

  First we need to upload yellow taxi data for 2019/02 and 2019/03 to GCS.
  For that, after creating the data/yellow directory we run:
     python etl_web_to_gcs_Q3.py 
   which downloads it locally and uploads the data to GCS Bucket

  The code is in etl_gcs_to_bq.py
  To create the deployment:
    prefect deployment build ./etl_gcs_to_bq.py:etl_gcs_to_bq -n "Homework Q3"
  Edit etl_gcs_to_bq-deployment.yaml, so tha parameters is:
  parameters: {'sets': [{'color': "yellow", 'year': 2019,'month': 2},
                      {'color': "yellow", 'year': 2019,'month': 3}]}
  Apply the deployment by doing:
    prefect deployment apply etl_gcs_to_bq-deployment.yaml

  Start the agent with 
    prefect agent start -q 'default'

  In the Orion UI, go to the newly created deployment (Homework Q3) and click on
  Quick Run.

  We see that the agent starts logging information about the different flows,
  and towards the end we get the line:

   11:31:36.276 | INFO    | Flow run 'sparkling-mamba' - Total rows added: 14851920

  -> 14,851,920
  
+ Question 4

  I create a github block (github-de-zoomcamp-block) pointing to my repository:
  https://github.com/angel-devicente/de_zoomcamp_own

  I create the deployment based on the file etl_web_to_gcs_Q4.py (which is
  almost the same as etl_web_to_gcs.py, but modifying two things:
  + the file to download is November'20 (green taxi trips)
  + I have to create the directory data/green in write_local (because this is
    running somehow in /tmp (TO DO)

  I create the deployment with 

  python github_deploy.py

  Start the agent with 

  prefect agent start -q 'default'

  And run the deployment with:

  prefect deployment run etl-web-to-gcs/github-example

  The agent runs the deployment and towards the end writes in the log:

  21:34:55.581 | INFO    | Task run 'clean-2c6af9f6-0' - rows: 88605                                 
  21:34:55.622 | INFO    | Task run 'clean-2c6af9f6-0' - Finished in state Completed()

  --> 88605


+ Question 5

+ Question 6

